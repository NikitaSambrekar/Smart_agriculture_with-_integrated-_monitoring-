{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
    <h1 class="text-center">Plant Disease Detection</h1>

    <!-- Form for image upload -->
    <form method="POST" enctype="multipart/form-data" class="mt-4">
        {% csrf_token %}
        <div class="mb-3">
            <label for="image" class="form-label">Upload an Image</label>
            <input type="file" name="image" id="image" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>
    

    <!-- Display Results -->
    {% if result %}
    <div class="mt-5">
        <h3>Result:</h3>
        <p><strong>Message:</strong> {{ result.message }}</p>
        {% if result.prediction %}
            <p><strong>Prediction:</strong> {{ result.prediction }}</p>
            <p><strong>Detection Info:</strong> {{ result.detection_info }}</p>
            <p><strong>Fertilizer:</strong> {{ result.fertilizer }}</p>
            <p><strong>Suggestion:</strong> {{ result.suggestion }}</p>
            <p><strong>Recommendation:</strong> {{ result.recommendation }}</p>
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}
